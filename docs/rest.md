# 关于rest api请求响应的相关规则

> 主要基于rest api规范

请求方式主要采用一下四种

* post 创建资源
* get 获取资源
* put 修改资源
* delete 删除资源

## 关于响应状态码

### 成功

http状态码一般为200，http请求时应视200-400（不包含）为成功请求，成功请求将直接返回json数据，绝大部分返回方式为json，直接解析。特殊情况接口会说明，大多数非GET请求无返回值，直接通过http响应码判断成功与否

### 失败

http状态码大于等于400，http请求封装时，可直接视400以上均为错误异常

失败时，客户端需要解析响应体是否为json数据，如果解析失败报错，均为未知的服务器异常。如果解析成功则json数据一般为：

``` json
{
  code:1,
  message:"异常提示，除特殊情况外，此消息仅用于调试，每个接口应对不同的code做出不同的动作",
  data:"异常携带数据，用于某些动作所需的数据"
}
```

其中400-500（不包含）为一般性参数异常/认证异常

500以上状态码为服务器异常/逻辑异常

## 关于认证

认证主要采用jwt token方式

登录类接口提交登录成功后，响应体无内容，响应头中包含Authorization。主要是为了统一，服务器会选择时机为用户token续期，

所有携带Authorization的请求均会，所以统一封装时，可以无论什么情况读取一次服务器Authorization响应头，如果有，则保存并替换本地token

## 关于参数

所有参数客户端应该予以充分检查，服务端会检查但仅提供调试错误信息给移动端